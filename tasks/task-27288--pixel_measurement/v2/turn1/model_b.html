<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pixel Measurement Tool</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <style>
    body {
      margin: 0;
      padding: 0;
      overflow: hidden;
    }

    #measurement-overlay {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      pointer-events: none;
    }

    #measureBox {
      border: 2px dashed #007bff;
      position: absolute;
      display: none;
      pointer-events: auto;
    }

    .handle {
      position: absolute;
      width: 10px;
      height: 10px;
      background: #007bff;
      border: 1px solid white;
    }

    .handle[data-dir="nw"] {
      top: -5px;
      left: -5px;
      cursor: nw-resize;
    }

    .handle[data-dir="n"] {
      top: -5px;
      left: 50%;
      margin-left: -5px;
      cursor: n-resize;
    }

    /* Add similar styles for other directions */
    #fullscreen-dimensions {
      position: absolute;
      bottom: 10px;
      right: 10px;
      background: rgba(0, 0, 0, 0.7);
      color: white;
      padding: 5px;
      border-radius: 3px;
      display: block;
    }

    #distanceLines {
      position: absolute;
      width: 100%;
      height: 100%;
    }

    #distanceLines div {
      position: absolute;
      background: rgba(255, 0, 0, 0.2);
      pointer-events: none;
    }

    #sampleLayout div {
      border: 1px solid #ccc;
      height: 100px;
      margin: 10px 0;
    }

    .navbar {
      height: 50px !important;
    }

    .hero {
      height: 200px !important;
    }

  </style>
</head>

<body>
  <div id="measurement-overlay" class="d-none">
    <div id="fullscreen-dimensions">Width: <span id="width"></span> Height: <span id="height"></span></div>
    <div id="measureBox">
      <div class="handle" data-dir="nw"></div>
      <div class="handle" data-dir="n"></div>
      <div class="handle" data-dir="ne"></div>
      <div class="handle" data-dir="w"></div>
      <div class="handle" data-dir="e"></div>
      <div class="handle" data-dir="sw"></div>
      <div class="handle" data-dir="s"></div>
      <div class="handle" data-dir="se"></div>
    </div>
    <div id="distanceLines"></div>
  </div>
  <button id="toggleMeasure" class="btn btn-primary">Toggle Measurement</button>

  <div id="sampleLayout" class="container">
    <!-- Sample layout elements -->
    <div class="navbar"></div>
    <div class="hero"></div>
    <div class="sidebar"></div>
    <div class="content"></div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const overlay = document.getElementById('measurement-overlay');
      const measureBox = document.getElementById('measureBox');
      const toggleBtn = document.getElementById('toggleMeasure');
      const widthDisplay = document.getElementById('width');
      const heightDisplay = document.getElementById('height');
      const distanceLines = document.getElementById('distanceLines');
      let isMeasuring = false;

      function updateScreenSize() {
        widthDisplay.textContent = window.innerWidth;
        heightDisplay.textContent = window.innerHeight;
      }

      function startMeasuring() {
        if (!isMeasuring) {
          overlay.classList.remove('d-none');
          document.addEventListener('mousemove', onMouseMove);
          document.addEventListener('click', onElementSelect);
          updateScreenSize();
          window.addEventListener('resize', updateScreenSize);
          isMeasuring = true;
        }
      }

      function stopMeasuring() {
        if (isMeasuring) {
          overlay.classList.add('d-none');
          document.removeEventListener('mousemove', onMouseMove);
          document.removeEventListener('click', onElementSelect);
          window.removeEventListener('resize', updateScreenSize);
          measureBox.style.display = 'none';
          isMeasuring = false;
        }
      }

      function onMouseMove(e) {
        if (measureBox.style.display === 'block') {
          drawDistanceLines(e.clientX, e.clientY);
        }
      }

      function onElementSelect(e) {
        const rect = e.target.getBoundingClientRect();
        measureBox.style.left = `${rect.left}px`;
        measureBox.style.top = `${rect.top}px`;
        measureBox.style.width = `${rect.width}px`;
        measureBox.style.height = `${rect.height}px`;
        measureBox.style.display = 'block';
        drawDistanceLines(rect.left + rect.width / 2, rect.top + rect.height / 2);
      }

      function drawDistanceLines(x, y) {
        // Logic to draw lines from the center of each side to screen edges
        // This would involve creating or moving div elements for each line
        // and setting their width/height and position accordingly
      }

      // Handle resizing of the measurement box
      // This would require implementing drag functionality for each handle

      toggleBtn.addEventListener('click', () => {
        if (isMeasuring) stopMeasuring();
        else startMeasuring();
      });

      // Initial state setup
      stopMeasuring();
    });
  </script>
</body>

</html>
